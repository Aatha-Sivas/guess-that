# Guess That — Taboo-style Pass-and-Play

A lightweight Taboo-like party game for a single shared phone. Cards (target + forbidden words) are generated by the backend, cached on device, and played offline with a configurable round timer and round count.

---

## Project structure

```
guess-that/
├─ backend/     # Spring Boot (Maven), MySQL, Flyway, OpenAI, Logback
│  └─ src/main/resources/
│     ├─ application.properties
│     ├─ logback-spring.xml
│     ├─ filter_profanity_list.txt
│     ├─ openai/card-generation-template.txt
│     └─ db/migration/V1__init_cards.sql
└─ app/        # Expo React Native (TypeScript), SQLite, Zustand
   ├─ App.tsx
   ├─ app.config.ts
   ├─ babel.config.js
   ├─ assets/seed/
   └─ src/
      ├─ types.ts               # Card, Difficulty
      ├─ api.ts                 # /api/cards/draw, /api/cards/download
      ├─ db.ts                  # SQLite cache
      ├─ theme.ts               # color paletts
      ├─ repo/CardRepository.ts # top-up + local draws
      ├─ store/game.ts          # settings, scores, rounds
      ├─ components/Screen.tsx  # View-Wrapper
      └─ screens/               # Home, Setup, Cover, Turn, RoundEnd
```

**Key endpoints**

* `GET /api/cards/draw?lang=de-CH&category=family&difficulty=medium&count=50`
* `GET /api/cards/download?lang=de-CH&category=family&difficulty=medium&count=50`

---

## Backend (server)

### Requirements

* Java 21+, Maven 3.9+
* MySQL 8 (local or Docker)
* OpenAI API key

### Environment (Windows PowerShell)

```powershell
# Database
$env:SPRING_DATASOURCE_URL="jdbc:mysql://localhost:3306/guess_that"
$env:SPRING_DATASOURCE_USERNAME="username"
$env:SPRING_DATASOURCE_PASSWORD="password"

# OpenAI
$env:OPENAI_API_KEY="<your-key>"

# Optional
$env:SPRING_PROFILES_ACTIVE="dev"
```

### Run

```bash
cd backend
mvn -DskipTests spring-boot:run
```

Flyway applies migrations on startup. Logs go to console (and to file if configured in `logback-spring.xml` / `LOGGING_FILE_NAME`).

---

## Frontend (app)

### Requirements

* Node 18+, Android Studio **or** Android phone with Expo Go
* Backend reachable from the device

### Configure API base and start

**Android emulator (uses host alias `10.0.2.2`):**

```powershell
cd app
$env:EXPO_PUBLIC_API_BASE="http://10.0.2.2:8080"
npx expo start
# press "a" to open the emulator
```

**Physical Android phone (same Wi-Fi; replace with your PC LAN IP):**

```powershell
cd app
$env:EXPO_PUBLIC_API_BASE="http://192.168.1.50:8080"
npx expo start
# open the project in Expo Go by scanning the QR code
```


---

## Gameplay (summary)

* Setup: choose **Rounds** and **Timer (seconds)**; optionally fetch up to 50 cards from the server at a time (Draw/Download).
* Turn: countdown timer; **Richtig** (+1 current team), **Tabu/Pass** (+1 other team).
* Round End: advances until the configured total rounds.
****